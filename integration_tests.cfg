[pytest]
addopts = -v --tb=line

usefixtures = salt_test_daemon

python_files =
    integration/*

ignore_list =
    integration/cloud/providers/msazure.py
    integration/files/file/base/*
    integration/modules/git.py
    integration/cloud/helpers/virtualbox.py

xfail_list =
    integration/states/git.py::GitTest::test_latest
    integration/states/git.py::GitTest::test_latest_empty_dir
    integration/states/git.py::GitTest::test_latest_failure
    integration/states/git.py::GitTest::test_latest_unless_no_cwd_issue_6800
    integration/states/git.py::GitTest::test_latest_with_rev_and_submodules
    integration/states/git.py::GitTest::test_numeric_rev
    integration/states/git.py::GitTest::test_present
    integration/states/git.py::GitTest::test_present_empty_dir
    integration/states/git.py::GitTest::test_present_failure
    integration/modules/sysmod.py::SysModuleTest::test_valid_docs
    integration/modules/decorators.py::DecoratorTest::test_missing_depends_again
    integration/modules/decorators.py::DecoratorTest::test_missing_depends
    integration/modules/decorators.py::DecoratorTest::test_bool_depends
    integration/modules/state.py::StateModuleTest::test_get_file_from_env_in_top_match
    integration/shell/key.py::KeyTest::test_keys_generation_no_configdir
    integration/shell/call.py::CallTest::test_issue_2731_masterless
    integration/shell/matcher.py::MatchTest::test_salt_documentation_arguments_not_assumed
    integration/shell/matcher.py::MatchTest::test_salt_documentation
    integration/netapi/rest_tornado/test_app.py::TestMinionSaltAPIHandler::test_get_no_mid
    integration/netapi/rest_tornado/test_app.py::TestSaltAPIHandler::test_simple_local_runner_post
    integration/netapi/test_client.py::NetapiClientTest::test_local
    integration/runners/manage.py::ManageTest::test_up
    integration/runners/manage.py::ManageTest::test_down
    integration/utils/test_reactor.py::TestReactor::test_basic
    integration/cli/batch.py::BatchTest::test_batch_run
    integration/cli/batch.py::BatchTest::test_batch_run_number
    *::SaltDaemonScriptBase::*
    *::SaltMinion::*
    *::SaltMaster::*
    *::SaltSyndic::*
    *salttesting/unit.py
    integration/netapi/rest_tornado/test_app.py::SaltnadoTestCase::*
    integration/loader/ext_grains.py::LoaderGrainsTest::test_grains_overwrite
    integration/loader/ext_modules.py::LoaderOverridesTest::test_overridden_internal
    integration/modules/decorators.py::DecoratorTest::test_depends
    integration/modules/decorators.py::DecoratorTest::test_depends_will_not_fallback
    integration/modules/decorators.py::DecoratorTest::test_missing_depends_will_fallback
    integration/modules/pillar.py::PillarModuleTest::test_pillar_items
    integration/modules/pkg.py::PkgModuleTest::test_pkg_info
    integration/modules/timezone.py::TimezoneLinuxModuleTest::test_get_hwclock
    integration/netapi/test_client.py::NetapiClientTest::test_wheel
    integration/states/git.py::GitTest::test_latest_fast_forward
    integration/states/git.py::GitTest::test_latest_with_local_changes
    integration/shell/call.py::CallTest::test_issue_14979_output_file_permissions
    integration/runners/state.py::StateRunnerTest::test_orchestrate_output
    integration/cli/batch.py::BatchTest::test_batch_run_grains_targeting
    integration/netapi/rest_tornado/test_app.py::SaltnadoTestCase::*
    integration/shell/call.py::CallTest::test_issue_15074_output_file_append
    integration/shell/call.py::CallTest::test_default_output
    integration/shell/call.py::CallTest::test_user_delete_kw_output
    integration/shell/master_tops.py::MasterTopsTest::test_custom_tops_gets_utilized
    integration/modules/cp.py::CPModuleTest::test_get_url_https
    integration/output/output.py::OutputReturnTest::*
    integration/runners/jobs.py::ManageTest::test_active
    integration/runners/jobs.py::ManageTest::test_lookup_jid
    integration/shell/call.py::CallTest::test_issue_6973_state_highstate_exit_code
    integration/shell/call.py::CallTest::test_json_out_indent
    integration/shell/call.py::CallTest::test_text_output
    integration/shell/key.py::KeyTest::test_issue_7754
    integration/shell/matcher.py::MatchTest::test_grain
    integration/shell/matcher.py::MatchTest::test_ipcidr
    integration/shell/syndic.py::SyndicTest::test_exit_status_correct_usage
    integration/states/match.py::StateMatchTest::test_issue_2167_ipcidr_no_AttributeError
