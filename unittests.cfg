[pytest]
addopts = -v --tb=line

usefixtures = transplant_configs

python_files =
    unit/*

ignore_list =
    unit/zypp_plugins_test.py # BogusIO missing in zypp_plugin
    unit/netapi/rest_tornado/test_handlers.py
    unit/returners/smtp_return_test.py

xfail_list =
    # not working in docker containers
    unit/modules/cmdmod_test.py::CMDMODTestCase::test_run
    unit/transport/tcp_test.py::BaseTCPReqCase::*
    unit/transport/zeromq_test.py::BaseZMQReqCase::*
    unit/transport/zeromq_test.py::AESReqTestCases::*

    # sles12 sles12sp1
    unit/netapi/rest_tornado/test_utils.py::TestEventListener::test_simple

    # sles12
    unit/netapi/rest_tornado/test_utils.py::TestEventListener::test_set_event_handler

    # https://github.com/saltstack/salt/pull/36325 but not yet in our package
    unit/modules/blockdev_test.py::TestBlockdevModule::test_resize2fs
