[pytest]
addopts = -v --tb=line

usefixtures = transplant_configs

python_files =
    unit/modules/btrfs_test.py
    unit/modules/extfs_test.py
    unit/modules/file_test.py
    unit/modules/grains_test.py
    unit/modules/key_test.py
    unit/modules/linux_acl_test.py
    unit/modules/linux_lvm_test.py
    unit/modules/nagios_test.py
    unit/modules/netscaler_test.py
    unit/modules/network_test.py
    unit/modules/pam_test.py
    unit/modules/pillar_test.py
    unit/modules/pkg_resource_test.py
    unit/modules/pkgutil_test.py
    unit/modules/rpm_test.py
    unit/modules/service_test.py
    unit/modules/ssh_test.py
    unit/modules/state_test.py
    unit/modules/status_test.py
    unit/modules/sysmod_test.py
    unit/modules/systemd_test.py
    unit/modules/system_test.py
    unit/modules/test_network.py
    unit/modules/uptime_test.py
    unit/modules/zypper_test.py
    unit/netapi/rest_cherrypy/tools_test.py
    unit/netapi/rest_tornado/test_handlers.py
    unit/pillar_test.py
    unit/states/status_test.py
    unit/transport/ipc_test.py
    unit/transport/tcp_test.py
    unit/utils/aggregation_test.py
    unit/utils/async_test.py
    unit/utils/cache_test.py
    unit/utils/config_test.py
    unit/utils/context_test.py
    unit/utils/dictupdate_test.py
    unit/utils/filebuffer_test.py
    unit/utils/find_test.py
    unit/utils/format_call_test.py
    unit/utils/http_test.py
    unit/utils/kwarg_regex_test.py
    unit/utils/locales_test.py
    unit/utils/path_join_test.py
    unit/utils/process_test.py
    unit/utils/runtime_whitespace_regex_test.py
    unit/utils/safe_walk_test.py
    unit/utils/schedule_test.py
    unit/utils/url_test.py
    unit/utils/validate_net_test.py

ignore_list =
    unit/zypp_plugins_test.py
    unit/modules/boto_secgroup_test.py
    unit/transport/zeromq_test.py::BaseZMQReqCase::runTest
    unit/returners/smtp_return_test.py

xfail_list =
    unit/netapi/rest_tornado/test_handlers.py::SaltnadoTestCase::*
    unit/netapi/rest_tornado/test_handlers.py::TestBaseSaltAPIHandler::*
    unit/netapi/rest_tornado/test_handlers.py::TestSaltAuthHandler::*
    unit/netapi/rest_tornado/test_handlers.py::TestWebsocketSaltAPIHandler::*
    unit/transport/tcp_test.py::BaseTCPReqCase::*
    unit/utils/utils_test.py::UtilsTestCase::test_date_cast
    unit/utils/network.py::NetworkTestCase::test_interfaces_ifconfig_solaris
    unit/states/dockerio.py::DockerStateTestCase::test_docker_run_unless
    unit/states/dockerio.py::DockerStateTestCase::test_docker_run_success
    unit/states/dockerio.py::DockerStateTestCase::test_docker_run_onlyif
    unit/states/dockerio.py::DockerStateTestCase::test_docker_run_failure
    unit/states/dockerio.py::DockerStateTestCase::test_docker_run_docked_unless
    unit/states/dockerio.py::DockerStateTestCase::test_docker_run_docked_onlyif
    unit/netapi/rest_tornado/test_utils.py::TestEventListener::test_timeout
    unit/netapi/rest_tornado/test_utils.py::TestEventListener::test_simple
    unit/modules/useradd_test.py::UserAddTestCase::test_info
    unit/modules/cmdmod_test.py::CMDMODTestCase::test_run
    unit/modules/blockdev_test.py::TestBlockdevModule::test_resize2fs
    unit/spm.py::SPMTest::test_failure_paths
    unit/spm.py::SPMTest::test_build_install
    unit/pyobjects_test.py::MapTests::test_map
    unit/pyobjects_test.py::RendererTests::test_sls_imports
    unit/pyobjects_test.py::RendererTests::test_requisite_implicit_list
    unit/pyobjects_test.py::RendererTests::test_extend
    unit/modules/snapper_test.py::SnapperTestCase::test_diff_text_file
    unit/modules/snapper_test.py::SnapperTestCase::test_diff_text_files
    unit/states/file_test.py::FileTestCase::test_uncomment
    unit/states/file_test.py::FileTestCase::test_comment
    unit/modules/puppet_test.py::PuppetTestCase::test_summary
    unit/modules/puppet_test.py::PuppetTestCase::test_disable
    unit/modules/mount_test.py::MountTestCase::test_rm_fstab
    unit/modules/mount_test.py::MountTestCase::test_rm_automaster
    unit/modules/linux_sysctl_test.py::LinuxSysctlTestCase::test_persist_no_conf_failure
    unit/modules/darwin_sysctl_test.py::DarwinSysctlTestCase::test_persist_no_conf_failure
    unit/modules/cron_test.py::PsTestCase::test_set_special
    unit/auth_test.py::LoadAuthTestCase::test_load_name
    unit/auth_test.py::LoadAuthTestCase::test_get_groups
    unit/transport/zeromq_test.py::BaseZMQReqCase::*
